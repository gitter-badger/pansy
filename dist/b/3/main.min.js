/**
 * main.js b3
 */
!function(a){function b(a,b,c){function d(){a.innerWidth<=600&&b("body").addClass("small"),c.router({href:location.href,machine:"main"}),null==f("welcomed")?(c.router({href:"/banner",machine:"pop"}),e("welcomed","1","1")):c.router({href:"/",machine:"pop"}),b(".loading").css({display:"none"})}function e(a,b,c){g(a);var d=c||30,e=new Date;e.setTime(e.getTime()+24*d*60*60*1e3);var f="/";document.cookie=a+"="+escape(b)+";expires="+e.toGMTString()+";path="+f}function f(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?unescape(b[2]):null}function g(a){var b=new Date;b.setTime(b.getTime()-1);var c=f(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString())}function h(a){b(".main .header .tab").removeClass("open"),b(".main .header .tab-"+a).addClass("open")}function i(a){return a.substr(0,1).toUpperCase()+a.substr(1)}function j(c){function d(c){c=a.innerWidth,b("body").attr("data-width",c);var d=h[e(c,g,0)];b("body").removeClass(l).addClass(f+d)}function e(a,b,c){return c==b.length?c:a<b[c]?c:(c++,e(a,b,c))}for(var f="width-",g=c.keyPixel||[400,600,800],h=c.rangeName||["min","medium","big","max"],i=a.innerWidth,j=[],k=0;k<h.length;k++)j.push(f+h[k]);var l=j.join(" ");d(i),a.onresize=function(){i!=a.innerWidth&&d(i)}}return config=config||{},config.progressShow=!1,config.listenA=!0,config.listenP=!0,config.progressHandle=function(a){function c(a){b("#npop").length||b("body").append(b('<div id="npop"><style>#npop{z-index:1000000;position:fixed;top:0;right:0;left:0;height:3px}#npop .power{position:absolute;top:0;bottom:0;left:0;background-color: #F0E173;transition:all .5s ease}</style><div class="power"></div></div>')),b("#npop .power").css({width:a+"%"})}function d(){b("#npop").remove()}var a=Number(a)||0;switch(a=a>100?100:a,a=0>a?0:a){case 100:c(100),setTimeout(d,500);break;default:c(a)}},config.ajaxErrorHandle=function(a){switch(a.error){case 30001:removeUserKey(),alert("您未登录，需要登录吗？");break;case 10001:alert("请求错误！");break;default:alert("未知错误！")}},c.init(config),c.addEvent("scrollWindow",function(){var a=document.body.scrollTop||document.documentElement.scrollTop;a>0?b(".navbar-wrap").addClass("fix"):b(".navbar-wrap").removeClass("fix")}),c.newMachine({machine:"main",master:!0}),c.define({machine:"main",name:[""],jack:{"main/main":{"home/home":{}}},events:[],callback:function(){b(".navbar-wrap").removeClass("fix"),h("home"),c.progress(100)}}),c.define({machine:"main",name:["faq"],jack:{"main/main":{"faq/faq":{}}},events:[],callback:function(){h("faq"),c.progress(100)}}),c.define({machine:"main",name:["case"],jack:{"main/main":{"case/case":{}}},events:[],callback:function(){h("case"),c.progress(100)}}),c.define({machine:"main",name:/^\/document(\/(api|setup)|)$/,jack:{"main/main":{"document/document":{"document/api":{}}}},events:[[a,"scroll",c.getEvent("scrollWindow")]],callback:function(a){if(2==a.pathnames.length)switch(a.pathnames[1]){case"api":var d=b("#api"+i(a.hashes[0]));d.length&&(document.body.scrollTop=d.offset().top-50,document.documentElement.scrollTop=d.offset().top-50),d.offset().top>50&&b(".navbar-wrap").addClass("fix");break;case"setup":}require(["prettify"],function(){loadCSS("http://static.heineiuo.com/libs/prettify/prettify_st.css"),prettyPrint()}),h("document"),c.progress(100)},leave:function(){b(".navbar-wrap").removeClass("fix")}}),c.newMachine({machine:"pop"}),c.define({machine:"pop",name:[""],jack:{},events:[],callback:function(){c.progress(100)}}),c.define({machine:"pop",name:["banner"],jack:{"pop/banner":{}},events:[],callback:function(){c.progress(100),setTimeout(function(){b("#popBanner").animate({opacity:0},300,function(){c.router({machine:"pop",href:"/"})})},3e3)}}),d(),j({keyPixel:[768,992,1200],keyName:["min","small","large","max"]}),{}}"function"==typeof define&&define.amd?define(["jquery","purple"],function(c,d){return b(a,c,d)}):b(a,$,purple)}(window);